
//---------------------------------------------------------------------
// This file is automatically generated. All manual edits will be lost.
//---------------------------------------------------------------------
// Service header for the NI-DAQMX Metadata
//---------------------------------------------------------------------
#ifndef NIDAQMX_GRPC_SERVICE_H
#define NIDAQMX_GRPC_SERVICE_H

#include <nidaqmx.grpc.pb.h>
#include <condition_variable>
#include <grpcpp/grpcpp.h>
#include <grpcpp/health_check_service_interface.h>
#include <grpcpp/ext/proto_server_reflection_plugin.h>
#include <map>
#include <server/session_repository.h>
#include <server/shared_library.h>

#include "nidaqmx_library_interface.h"

namespace nidaqmx_grpc {

class NiDAQmxService final : public NiDAQmx::Service {
public:
  NiDAQmxService(NiDAQmxLibraryInterface* library, nidevice_grpc::SessionRepository* session_repository);
  virtual ~NiDAQmxService();
  ::grpc::Status CreateTask(::grpc::ServerContext* context, const CreateTaskRequest* request, CreateTaskResponse* response) override;
  ::grpc::Status ClearTask(::grpc::ServerContext* context, const ClearTaskRequest* request, ClearTaskResponse* response) override;
  ::grpc::Status CreateAIVoltageChan(::grpc::ServerContext* context, const CreateAIVoltageChanRequest* request, CreateAIVoltageChanResponse* response) override;
  ::grpc::Status GetChanAttributeU32(::grpc::ServerContext* context, const GetChanAttributeU32Request* request, GetChanAttributeU32Response* response) override;
  ::grpc::Status SetChanAttributeU32(::grpc::ServerContext* context, const SetChanAttributeU32Request* request, SetChanAttributeU32Response* response) override;
  ::grpc::Status GetChanAttributeF64(::grpc::ServerContext* context, const GetChanAttributeF64Request* request, GetChanAttributeF64Response* response) override;
  ::grpc::Status SetChanAttributeF64(::grpc::ServerContext* context, const SetChanAttributeF64Request* request, SetChanAttributeF64Response* response) override;
  ::grpc::Status CfgSampClkTiming(::grpc::ServerContext* context, const CfgSampClkTimingRequest* request, CfgSampClkTimingResponse* response) override;
private:
  NiDAQmxLibraryInterface* library_;
  nidevice_grpc::ResourceRepository<TaskHandle> session_repository_;
};

} // namespace nidaqmx_grpc

#endif  // NIDAQMX_GRPC_SERVICE_H
